<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition>
	<p:menubar>
			<p:submenu label="Journals" rendered="#{userProvider.showMenu('journals')}">
				<p:menuitem value="New Journal" 
					url="/pages/pub/new_journal.xhtml"
					icon="ui-icon ui-icon-document" />
				<p:menuitem value="View journals" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-folder-open" />
			</p:submenu>
			<p:submenu label="Publications" rendered="#{userProvider.showMenu('publications')}">
				<p:menuitem value="Publish" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-document" />
				<p:menuitem value="View publications" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-folder-open" />
			</p:submenu>
			<p:submenu label="Subscriptions" rendered="#{userProvider.showMenu('subscriptions')}">
				<p:menuitem value="New Subscription" 
					url="/pages/cus/new_subscription.xhtml"
					icon="ui-icon ui-icon-document" />
				<p:menuitem value="View Subscriptions" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-folder-open" />
			</p:submenu>
			<p:submenu label="Payments" rendered="#{userProvider.showMenu('payments')}">
				<p:menuitem value="New Payment" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-document" />
				<p:menuitem value="View Payments" 
					onclick="javascript:alert('Not Implemented')"
					icon="ui-icon ui-icon-folder-open" />
			</p:submenu>

		<p:menuitem value="#{msg['change.password']}"
					url="/pages/user/change_password.xhtml"
					icon="fa fa-edit" />

		<f:facet name="options">
			<h:outputText rendered="#{request.getUserPrincipal() != null}"
						  value="#{msg['hello']} #{request.getUserPrincipal().getName()}"
						  style="margin-right:10px" />
			<a href="#{request.getContextPath()}/logout" style="margin-right:10px">
				<h:outputText value="#{msg['logout']}" />
			</a>
		</f:facet>
	</p:menubar>
</ui:composition>
</html>